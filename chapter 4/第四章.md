[TOC]



##  scanf() 用法

> 读取基本变量类型，变量名前加 &。
> 
> 读取字符串到字符数组中，不用 &。

scanf() 读取输入时，`换行符`、`制表符`、`空格`都可以制造**空白**把输入分成多个字段——**分割连续的输入项**，转换说明和字段依次**匹配、**跳过空白。多个空白、多个换行符都可以，但 %c 会读取空白字符。

scanf() 读取**整数 %d **时，会跳过所有空白字符，从第一个非空字符开始读取。如果第一个非空字符是字母而不是数字，就会一直无法越过字母读取数字，**C 规定在第 1 个出错处就停止读取**。

scanf() 读取**字符串 %s **时，会读取除空白以外的所有字符，且无法使用字段宽度修饰符读取中间有空格的多个单词。**把字符串放入数组中后，会在字符序列末尾加上 '\0' ，使之成为 C 字符串。**

**除空白字符外的所有普通字符必须与输入字符串严格匹配。**例：

>`scanf("%d, %d", &n, &m);`第一个 %d 输入后必须输入一个 `,逗号` 后面有无空格都无妨，因为会自动跳过待输入值前面的所有空白。即 `scanf("%d%d", &n, &m);`和`scanf("%d %d", &n, &m);`的行为相同

>但对于 `%c` 来说则不是，空白在 %c 前面，从第 1 个非空字符读取，空白在 %c 后面，从第1个字符就开始读取。即 `scanf("%c", &ch);`和`scanf(" %c", &ch);`的行为不同。

## printf() 和 scanf() 中的 * 修饰符
**printf() **中，* 代替字段宽度，例：

>`%*d`，`* `也需要对应一个参数，而且 `*` 在 `d` 的前面，这个整数、浮点都可以用。

**scanf()**中，* 表示跳过该项，例：

>`scanf("%*d %*d %d",&n);`输入三个数，但只有最后输入的数赋给了n，这在程序需要读取文件中特定列的内容时，这项跳过功能很有用。

## 补充

字符串，无论表示成字符常量还是存储在字符数组中，都以一个空字符（隐藏字符  '\0' ）结尾。

>假设 scanf() 读取的输入行为`-13.45e12# 0`：
>
>**对应的转换说明为 `%d`**，scanf 会读取三个字符 `-13` ，停在小数点处，小数点留在输入作为下一次输入的首字符。
>
>**对应的转换说明为 `%f`**，scanf 会读取`-13.45e12`，停在#处，#留在输入作为下一次输入的首字符。
>
>**对应的转换说明为 `%s`**，scanf 会读取`-13.45e12#`，停在空格处，空格留在输入作为下一次输入的首字符。
>
**对应的转换说明为 `%c`**，scanf 会读取`空格`，因为第 1 个字符是空格。