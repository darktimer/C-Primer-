

## 使用函数

开头要声明**函数原型**，还要由主调函数执行**函数调用**，最关键的是要有**函数定义**，明确写出函数的**功能。**
**函数原型：**指明了函数的返回值类型和参数类型，这些叫做**签名**。

把函数，包括主函数，都放到一个文件中以单文件的形式存储比较容易编译，当然也可以放到两个文件中，这样方便其他程序调用。

**局部变量：**函数体内部声明的变量，只在函数体内有效，其他函数中有相同名称的变量不会影响使用，因为在内存中不是同一个变量，这里先提一下，函数中的变量是用栈存储的，不同的函数有不同的栈。所以函数的参数只是主调函数传给的变量的拷贝值，在函数中修改并不能影响主调函数中的实参，如果用指针变量做参数直接链接到内存中的地址，就可以做到在函数中修改主函数的变量值。

## 带参数的函数

声明函数原型时需要指明参数的类型和数量，变量名可以省略。即使声明函数原型时指定了变量名，也不会再实际中创建变量，因为是函数的私有变量。

主调函数的实际参数可以是常量、变量甚至时复杂的表达式，无论是什么形式，最终都要求值，并把值拷贝给函数的形式参数。

用于测试函数而创建的简单程序有时被称作**驱动程序**，如果函数测试正常，就可以在更重要的程序中使用。

当函数需要返回 return 给主调函数一个值的时候，如果是一个复杂的表达式，最好是用括号括起来，比较规范。

------

return ；可以这样用，在 void 的函数中。这一点是之前不知道的，虽然现在没发现在 void 函数中不写 return；的后果，但之前程序还没有过错误提示，也就没注意这个问题，以后要记得！

------

C 的早期，没有声明类型的函数会被默认为 int 类型，但从 C99 开始不再有。

函数声明要写在使用函数之前。

## ANSI C 函数原型

以前的标准，声明函数没有参数会导致问题。

float 类型被作为参数传递时会被升级为 double 类型。

如果要传递的值，即实参和形参的类型不匹配，编译器会把实参的类型转换成形参的类型。

不声明函数原型也可以，但必须把整个函数定义放在函数调用的前面。